<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ultime News</title>
<style>
body { font-family: Arial; }
h2 { margin-bottom: 10px; }
li { margin-bottom: 10px; }
small { color: gray; }
</style>
</head>
<body>

<h2>Ultime News</h2>
<ul id="news-list"></ul>

<script>
const rssUrl = "https://www.tgcom24.mediaset.it/rss/ultimora.xml";

async function loadNews() {
    try {
        const response = await fetch("https://api.rss2json.com/v1/api.json?rss_url=" + rssUrl);
        const data = await response.json();

        const newsList = document.getElementById("news-list");
        newsList.innerHTML = "";

        data.items.slice(0, 10).forEach(item => {
            const li = document.createElement("li");
            li.innerHTML = `
                <a href="${item.link}" target="_blank">${item.title}</a>
                <br><small>${new Date(item.pubDate).toLocaleString()}</small>
            `;
            newsList.appendChild(li);
        });

    } catch (error) {
        document.getElementById("news-list").innerHTML = "Errore caricamento news";
        console.error(error);
    }
}

loadNews();
setInterval(loadNews, 300000);
</script>

</body>
</html>